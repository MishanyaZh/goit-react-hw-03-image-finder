(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__3SYtS",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__2gePp"}},14:function(e,t,a){e.exports={overlay:"Modal_overlay__toDUB",modal:"Modal_modal__Hc5hJ"}},30:function(e,t,a){e.exports={app:"App_app__Olz43"}},31:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__3Of5F"}},32:function(e,t,a){e.exports={button:"Button_button__2isXF"}},41:function(e,t,a){},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2iBHo",searchForm:"Searchbar_searchForm__wiOeh",searchFormButton:"Searchbar_searchFormButton__31LFf",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__1dbAh",searchFormInput:"Searchbar_searchFormInput__3Iufe"}},86:function(e,t,a){"use strict";a.r(t);var r,n=a(0),s=a.n(n),i=a(24),o=a.n(i),c=(a(41),a(4)),l=a.n(c),u=a(15),m=a(7),h=a(25),g=a(26),d=a(35),b=a(34),p=a(6),f=a(27),j=a.n(f),x=a(28),O=a(33).a.div(r||(r=Object(x.a)(["\nposition: fixed;\ntop:50%;\nleft: 50%;\ntransform: translate(-50%,-50%);\n"]))),_=a(30),v=a.n(_),S=a(11),I=a.n(S);I.a.defaults.baseURL="https://pixabay.com/api/";var y=function(){var e=Object(m.a)(l.a.mark((function e(t,a){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("?q=".concat(t,"&page=").concat(a,"&key=").concat("22670626-c734a5ab3fb2edefe4011dc83","&image_type=photo&orientation=horizontal&per_page=12"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n.hits.map((function(e){return{id:e.id,webImg:e.webformatURL,largeImg:e.largeImageURL}})));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),F=a(5),k=a.n(F),w=a(1),q=function(e){var t=e.onSubmit;return Object(w.jsx)("header",{className:k.a.searchbar,children:Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=e.target.elements.imgValue.value;t(a),e.target.elements.imgValue.value=""},className:k.a.searchForm,children:[Object(w.jsx)("button",{type:"submit",className:k.a.searchFormButton,children:Object(w.jsx)("span",{className:k.a.searchFormButtonLabel,children:"Search"})}),Object(w.jsx)("input",{name:"imgValue",className:k.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},N=a(12),G=a(13),V=a.n(G),B=function(e,t){var a=e.id,r=e.webImg,n=e.largeImg;return Object(w.jsx)("li",{onClick:function(){console.log(n)},className:V.a.imageGalleryItem,children:Object(w.jsx)("img",{src:r,alt:a,className:V.a.imageGalleryItemImage})})},L=a(31),C=a.n(L),M=void 0,U=function(e){var t=e.images,a=(e.onSelect,t.id,t.webImg,t.largeImg);return Object(w.jsx)("ul",{className:C.a.imageGallery,children:t.map((function(e){return Object(n.createElement)(B,Object(N.a)(Object(N.a)({onClick:function(e){M.onSelect(a),console.log(e)}},e),{},{key:e.id}))}))})},D=a(32),A=a.n(D),J=function(e){var t=e.onClickLoadMore;return Object(w.jsx)("button",{onClick:function(e){e.preventDefault(),t()},className:A.a.button,type:"button",children:"Load more"})},P=a(14),R=a.n(P),z=function(e){return Object(w.jsx)("div",{className:R.a.overlay,children:Object(w.jsxs)("div",{className:R.a.modal,children:[Object(w.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nemo atque laudantium deserunt rerum quisquam nulla, praesentium provident debitis aut corrupti doloribus doloremque officiis odit vero, similique tempora quibusdam necessitatibus enim."}),Object(w.jsx)("img",{src:e.largeImg,alt:e.id})]})})},E=function(e){Object(d.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={imgValue:null,images:[],reqStatus:"idle",page:1,loader:!1,selectImage:null},e.handleSelectImage=function(t){e.setState({selectImage:t}),console.log(t)},e.handleFormSubmit=function(t){e.setState({imgValue:t,page:1,loader:!0})},e.loadMoreClick=function(t){e.setState({page:e.state.page+1,loader:!0})},e}return Object(g.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(m.a)(l.a.mark((function e(t,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.imgValue===this.state.imgValue&&a.page===this.state.page){e.next=24;break}if(this.setState({loader:!0}),""!==this.state.imgValue.trim()){e.next=6;break}return this.setState({reqStatus:"pending"}),p.b.error("Pleas write something"),e.abrupt("return");case 6:return e.prev=6,e.next=9,y(this.state.imgValue,this.state.page);case 9:if(r=e.sent,this.setState({loader:!1}),0!==r.length){e.next=15;break}return this.setState({reqStatus:"rejected"}),p.b.error("your images not faind."),e.abrupt("return");case 15:a.imgValue!==this.state.imgValue&&this.setState({images:[],page:1}),this.setState((function(e){return{images:[].concat(Object(u.a)(e.images),Object(u.a)(r)),reqStatus:"resolved",loader:!1}})),Object(p.b)("its your, ".concat(this.state.imgValue,"s!"),{icon:"\ud83d\udc4f"}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(6),this.setState({reqStatus:"rejected"}),p.b.error("This didn't work.");case 24:case"end":return e.stop()}}),e,this,[[6,20]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(w.jsxs)("div",{className:v.a.app,children:[Object(w.jsx)(q,{onSubmit:this.handleFormSubmit}),Object(w.jsx)(U,{images:this.state.images,onSelect:this.handleSelectImage}),this.state.selectImage&&Object(w.jsx)(z,{image:this.state.selectImage}),"resolved"===this.state.reqStatus&!this.state.loader&&Object(w.jsx)(J,{onClickLoadMore:this.loadMoreClick}),Object(w.jsx)(p.a,{position:"top-right",reverseOrder:!1}),!1!==this.state.loader&&Object(w.jsx)(O,{children:Object(w.jsx)(j.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})]})}}]),a}(n.Component);o.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(E,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.5b9f462e.chunk.js.map