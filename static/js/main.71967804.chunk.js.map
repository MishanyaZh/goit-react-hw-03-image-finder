{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","services/api.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/App/App.jsx","index.js"],"names":["module","exports","axios","defaults","baseURL","fetchImages","imgValue","page","a","get","data","hits","map","hit","id","webImg","webformatURL","largeImg","largeImageURL","Searchbar","onSubmit","className","s","searchbar","e","preventDefault","value","target","elements","searchForm","type","searchFormButton","searchFormButtonLabel","name","searchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","imagProp","imageGalleryItem","src","alt","imageGalleryItemImage","ImageGallery","images","imageGallery","img","key","Button","onClickLoadMore","onClick","button","App","state","reqStatus","handleFormSubmit","setState","loadMoreClick","console","log","_","prevState","this","toast","error","length","icon","app","position","reverseOrder","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.71967804.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3SYtS\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2gePp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__Olz43\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__3Of5F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2isXF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2iBHo\",\"searchForm\":\"Searchbar_searchForm__wiOeh\",\"searchFormButton\":\"Searchbar_searchFormButton__31LFf\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__1dbAh\",\"searchFormInput\":\"Searchbar_searchFormInput__3Iufe\"};","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst API_KEY = '22670626-c734a5ab3fb2edefe4011dc83';\n\nexport const fetchImages = async (imgValue,page) => {\n  const { data } = await axios.get(\n    `?q=${imgValue}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n\n  return data.hits.map(hit => ({\n    id: hit.id,\n    webImg: hit.webformatURL,\n    largeImg: hit.largeImageURL,\n  }));\n};\n","import s from '../Searchbar/Searchbar.module.css';\n\nconst Searchbar = ({ onSubmit }) => (\n  <header className={s.searchbar}>\n    <form\n      onSubmit={e => {\n        e.preventDefault();\n        const value = e.target.elements.imgValue.value;\n        onSubmit(value);\n\n        e.target.elements.imgValue.value = \"\";\n      }}\n\n      className={s.searchForm}\n    >\n      <button type=\"submit\" className={s.searchFormButton}>\n        <span className={s.searchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        name=\"imgValue\"\n        className={s.searchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search images and photos\"\n      />\n    </form>\n  </header>\n);\n\nexport default Searchbar;\n","import s from '../ImageGalleryItem/ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = imagProp => {\n  const { id, webImg } = imagProp;\n\n  return (\n    <li className={s.imageGalleryItem}>\n      <img src={webImg} alt={id} className={s.imageGalleryItemImage} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nimport s from '../ImageGallery/ImageGallery.module.css';\n\nconst ImageGallery = ({ images }) => {\n  return (\n    <ul className={s.imageGallery}>\n      {images.map(img => {\n        return <ImageGalleryItem {...img} key={img.id} />;\n      })}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import s from '../Button/Button.module.css';\n\nconst Button = ({ onClickLoadMore }) => {\n  return (\n    <button\n      onClick={e => {\n        e.preventDefault();\n        onClickLoadMore();\n      }}\n      className={s.button}\n      type=\"button\"\n    >\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport s from '../App/App.module.css';\nimport { fetchImages } from '../../services/api';\n\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\n\nclass App extends Component {\n  state = {\n    imgValue: null,\n    images: [],\n    reqStatus: 'idle',\n    // idle, pending, resolved, rejected\n    page: 1,\n  };\n\n  handleFormSubmit = imgValue => {\n    this.setState({ imgValue });\n    \n  };\n  \n  \n  loadMoreClick = (e) => {\n    this.setState({\n      page: this.state.page + 1,\n\n    });\n    console.log(this.state.page);\n    console.log(this.state.page + 1);\n  }\n\n\n\n  async componentDidUpdate(_, prevState) {\n    if (prevState.imgValue !== this.state.imgValue || prevState.page !== this.state.page) {\n\n      // this.setState({ reqStatus: 'pending' });\n      // this.setState({ reqStatus: 'resolved' });\n     \n      if (this.state.imgValue === '') {\n        toast.error('Pleas write something');\n        return;\n      }\n\n      if (prevState.imgValue !== this.state.imgValue) {\n        this.setState({\n          images: [],\n          page: 1,\n        })\n      };\n\n\n\n      try {const images = await fetchImages(this.state.imgValue, this.state.page);\n\n        if (images.length === 0) {\n          toast.error('your images not faind.');\n          return;\n        }\n\n        this.setState({\n          reqStatus: 'resolved',\n          \n        });\n\n        this.setState(prevState => {\n\n          if (prevState.imgValue !== this.state.imgValue) {\n            return { images: [...prevState.images],  page: 1,}\n          }\n\n          return {\n            images: [...prevState.images, ...images],\n          };\n        });\n\n          \n\n        toast(`its your, ${this.state.imgValue}s!`, {\n          icon: '👏',\n        });\n\n      } catch (error) {\n        this.setState({ reqStatus: 'rejected' });\n        toast.error(\"This didn't work.\");\n      }\n    }\n  }\n\n  render() {\n\n    // const {idle, pending, resolved, rejected} = this.state.reqStatus\n\n    return (\n      <div className={s.app}>\n\n        <Searchbar onSubmit={this.handleFormSubmit} />\n\n        {/* {this.state.reqStatus === \"resolved\" && */}\n          <ImageGallery images={this.state.images}/>\n        {/* } */}\n\n        {this.state.reqStatus===\"resolved\" &&\n          <Button onClickLoadMore={this.loadMoreClick} />\n        }\n\n        <Toaster position=\"top-right\" reverseOrder={false} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}