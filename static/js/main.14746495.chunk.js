(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__3SYtS",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__2gePp"}},14:function(e,t,a){e.exports={overlay:"Modal_overlay__toDUB",modal:"Modal_modal__Hc5hJ"}},30:function(e,t,a){e.exports={app:"App_app__Olz43"}},31:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__3Of5F"}},32:function(e,t,a){e.exports={button:"Button_button__2isXF"}},41:function(e,t,a){},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2iBHo",searchForm:"Searchbar_searchForm__wiOeh",searchFormButton:"Searchbar_searchFormButton__31LFf",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__1dbAh",searchFormInput:"Searchbar_searchFormInput__3Iufe"}},86:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(24),s=a.n(c),i=(a(41),a(4)),l=a.n(i),u=a(15),m=a(7),d=a(25),h=a(26),p=a(35),g=a(34),b=a(6),f=a(27),j=a.n(f),v=a(28),x=a(33).a.div(n||(n=Object(v.a)(["\n  position: relative;\n   text-align: center;\n  display: inline-block;\n  \n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),O=a(30),S=a.n(O),_=a(11),y=a.n(_);y.a.defaults.baseURL="https://pixabay.com/api/";var I=function(){var e=Object(m.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("?q=".concat(t,"&page=").concat(a,"&key=").concat("22670626-c734a5ab3fb2edefe4011dc83","&image_type=photo&orientation=horizontal&per_page=12"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r.hits.map((function(e){return{id:e.id,webImg:e.webformatURL,largeImg:e.largeImageURL}})));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=a(5),w=a.n(k),F=a(1),C=function(e){var t=e.onSubmit;return Object(F.jsx)("header",{className:w.a.searchbar,children:Object(F.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=e.target.elements.imgValue.value;t(a),e.target.elements.imgValue.value=""},className:w.a.searchForm,children:[Object(F.jsx)("button",{type:"submit",className:w.a.searchFormButton,children:Object(F.jsx)("span",{className:w.a.searchFormButtonLabel,children:"Search"})}),Object(F.jsx)("input",{name:"imgValue",className:w.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},M=a(12),G=a(13),L=a.n(G),N=function(e){var t=e.id,a=e.webImg,n=e.largeImg,r=e.handleSelectImage;return Object(F.jsx)("li",{onClick:function(){r(n)},className:L.a.imageGalleryItem,children:Object(F.jsx)("img",{src:a,alt:t,className:L.a.imageGalleryItemImage})})},B=a(31),E=a.n(B),q=function(e){var t=e.images,a=e.handleSelectImage;return Object(F.jsx)("ul",{className:E.a.imageGallery,children:t.map((function(e){return Object(r.createElement)(N,Object(M.a)(Object(M.a)({handleSelectImage:a},e),{},{key:e.id}))}))})},V=a(32),U=a.n(V),D=function(e){var t=e.onClickLoadMore;return Object(F.jsx)("button",{onClick:function(e){e.preventDefault(),t()},className:U.a.button,type:"button",children:"Load more"})},T=a(14),A=a.n(T),H=function(e){var t=e.image,a=e.onCloseModal;return Object(F.jsx)("div",{onClick:function(e){a()},className:A.a.overlay,children:Object(F.jsx)("div",{className:A.a.modal,children:Object(F.jsx)("img",{src:t,alt:t})})})},J=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imgValue:null,images:[],reqStatus:"idle",page:1,loader:!1,selectImage:null},e.onEscape=function(t){"Escape"===t.code&&e.onCloseModal()},e.onCloseModal=function(){e.setState({selectImage:null})},e.handleSelectImage=function(t){e.setState({selectImage:t})},e.handleFormSubmit=function(t){e.setState({imgValue:t,page:1,loader:!0})},e.loadMoreClick=function(t){e.setState({page:e.state.page+1,loader:!0})},e.scrollTo=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(m.a)(l.a.mark((function e(t,a){var n,r,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,r=n.imgValue,o=n.page,a.imgValue===r&&a.page===o){e.next=26;break}if(this.setState({loader:!0}),""!==r.trim()){e.next=7;break}return this.setState({reqStatus:"pending",loader:!1}),b.b.error("Pleas write something"),e.abrupt("return");case 7:return e.prev=7,e.next=10,I(r,o);case 10:if(c=e.sent,this.setState({loader:!1,reqStatus:"idle"}),0!==c.length){e.next=16;break}return this.setState({reqStatus:"rejected",images:[],page:1}),b.b.error("your images not faind."),e.abrupt("return");case 16:a.imgValue!==r&&this.setState({images:[],page:1}),this.setState((function(e){return{images:[].concat(Object(u.a)(e.images),Object(u.a)(c)),reqStatus:"resolved"}})),this.scrollTo(),Object(b.b)("its your, ".concat(r,"s!"),{icon:"\ud83d\udc4f"}),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(7),this.setState({reqStatus:"rejected"}),b.b.error("This didn't work.");case 26:case"end":return e.stop()}}),e,this,[[7,22]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onEscape)}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onEscape)}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.reqStatus,n=e.loader,r=e.selectImage;return Object(F.jsxs)("div",{className:S.a.app,children:[Object(F.jsx)(C,{onSubmit:this.handleFormSubmit}),Object(F.jsx)(q,{images:t,handleSelectImage:this.handleSelectImage}),r&&Object(F.jsx)(H,{image:r,onCloseModal:this.onCloseModal}),Object(F.jsxs)(x,{children:["resolved"===a&&!n&&Object(F.jsx)(D,{onClickLoadMore:this.loadMoreClick}),!1!==n&&Object(F.jsx)(j.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})]}),Object(F.jsx)(b.a,{position:"top-right",reverseOrder:!1})]})}}]),a}(r.Component);s.a.render(Object(F.jsx)(o.a.StrictMode,{children:Object(F.jsx)(J,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.14746495.chunk.js.map